{"version":3,"sources":["../src/app.js"],"names":["App","constructor","express","middlewares","routes","use","json","urlencoded","extended","allowedHeaders","exposedHeaders","origin","methods","preflightContinue","static","auth","tokenValidator","errorHandler","req","res","message"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAN,CAAU;AACRC,EAAAA,WAAW,GAAG;AACZ,SAAKC,OAAL,GAAe,uBAAf;AACA,SAAKC,WAAL;AACA,SAAKC,MAAL;AACD;;AAEDD,EAAAA,WAAW,GAAG;AACZ,SAAKD,OAAL,CAAaG,GAAb,CAAiBH,iBAAQI,IAAR,EAAjB;AACA,SAAKJ,OAAL,CAAaG,GAAb,CAAiBH,iBAAQK,UAAR,CAAmB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAnB,CAAjB;AACA,SAAKN,OAAL,CAAaG,GAAb,CACE,mBAAK;AACHI,MAAAA,cAAc,EAAE,CAAC,WAAD,EAAc,cAAd,CADb;AAEHC,MAAAA,cAAc,EAAE,CAAC,WAAD,CAFb;AAGHC,MAAAA,MAAM,EAAE,GAHL;AAIHC,MAAAA,OAAO,EAAE,gCAJN;AAKHC,MAAAA,iBAAiB,EAAE;AALhB,KAAL,CADF;AASA,SAAKX,OAAL,CAAaG,GAAb,CAAiB,qBAAO,QAAP,CAAjB;AACA,SAAKH,OAAL,CAAaG,GAAb,CAAiB,2BAAjB;AACA,SAAKH,OAAL,CAAaG,GAAb,CAAiBH,iBAAQY,MAAR,CAAe,QAAf,CAAjB;AACD;;AAEDV,EAAAA,MAAM,GAAG;AACP,SAAKF,OAAL,CAAaG,GAAb,CAAiB,OAAjB,EAA0BU,aAA1B;AACA,SAAKb,OAAL,CAAaG,GAAb,CAAiB,GAAjB,EAAsBW,uBAAtB,EAAsCZ,eAAtC;AACA,SAAKF,OAAL,CAAaG,GAAb,CAAiB,GAAjB,EAAsBY,qBAAtB,EAAoC,CAACC,GAAD,EAAMC,GAAN,KAAc;AAChDA,MAAAA,GAAG,CAACb,IAAJ,CAAS;AACPc,QAAAA,OAAO,EAAE;AADF,OAAT;AAGD,KAJD;AAKD;;AAhCO;;eAmCK,IAAIpB,GAAJ,GAAUE,O","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport morgan from 'morgan';\nimport compression from 'compression';\nimport routes from './routes';\nimport errorHandler from './middlewares/errorHandler';\nimport auth from './api/auth/ctrl';\nimport tokenValidator from './middlewares/tokenValidator';\n\nclass App {\n  constructor() {\n    this.express = express();\n    this.middlewares();\n    this.routes();\n  }\n\n  middlewares() {\n    this.express.use(express.json());\n    this.express.use(express.urlencoded({ extended: true }));\n    this.express.use(\n      cors({\n        allowedHeaders: ['sessionId', 'Content-Type'],\n        exposedHeaders: ['sessionId'],\n        origin: '*',\n        methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\n        preflightContinue: false,\n      }),\n    );\n    this.express.use(morgan('common'));\n    this.express.use(compression());\n    this.express.use(express.static('public'));\n  }\n\n  routes() {\n    this.express.use('/auth', auth);\n    this.express.use('/', tokenValidator, routes);\n    this.express.use('/', errorHandler, (req, res) => {\n      res.json({\n        message: 'API Mostrar de Talentos 2019',\n      });\n    });\n  }\n}\n\nexport default new App().express;\n"],"file":"app.js"}