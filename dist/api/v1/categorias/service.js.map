{"version":3,"sources":["../../../../src/api/v1/categorias/service.js"],"names":["getAllResources","offset","limit","search","resources","Resource","findAll","order","where","ativo","Op","or","nome","like","getResource","id","resource","findByPk","createResource","create","updateResource","update","deleteResource","then","res","destroy"],"mappings":";;;;;;;;;;;AAAA;;AACA;;;;AAEO,eAAeA,eAAf,CAA+BC,MAA/B,EAAuCC,KAAvC,EAA8CC,MAA9C,EAAsD;AAC3D,QAAMC,SAAS,GAAGC,eAASC,OAAT,CAAiB;AACjCC,IAAAA,KAAK,EAAE,CAAC,CAAC,IAAD,EAAO,MAAP,CAAD,CAD0B;AAEjCN,IAAAA,MAFiC;AAGjCC,IAAAA,KAHiC;AAIjCM,IAAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAE,CADF;AAEL,OAACC,cAAGC,EAAJ,GAAS,CACP;AACEC,QAAAA,IAAI,EAAE;AAAE,WAACF,cAAGG,IAAJ,GAAY,IAAGV,MAAO;AAAxB;AADR,OADO;AAFJ;AAJ0B,GAAjB,CAAlB;;AAcA,SAAOC,SAAP;AACD;;AAEM,eAAeU,WAAf,CAA2BC,EAA3B,EAA+B;AACpC,QAAMC,QAAQ,GAAG,MAAMX,eAASY,QAAT,CAAkBF,EAAlB,CAAvB;AAEA,SAAOC,QAAP;AACD;;AAEM,SAASE,cAAT,CAAwBF,QAAxB,EAAkC;AACvC,SAAOX,eAASc,MAAT,CAAgBH,QAAhB,CAAP;AACD;;AAEM,SAASI,cAAT,CAAwBL,EAAxB,EAA4BC,QAA5B,EAAsC;AAC3C,SAAOX,eAASgB,MAAT,CAAgBL,QAAhB,EAA0B;AAAER,IAAAA,KAAK,EAAE;AAAEO,MAAAA;AAAF;AAAT,GAA1B,CAAP;AACD;;AAEM,SAASO,cAAT,CAAwBP,EAAxB,EAA4B;AACjC,SAAOV,eAASY,QAAT,CAAkBF,EAAlB,EAAsBQ,IAAtB,CAA2BC,GAAG,IAAIA,GAAG,CAACC,OAAJ,EAAlC,CAAP;AACD","sourcesContent":["import { Op } from 'sequelize';\nimport Resource from './model';\n\nexport async function getAllResources(offset, limit, search) {\n  const resources = Resource.findAll({\n    order: [['id', 'DESC']],\n    offset,\n    limit,\n    where: {\n      ativo: 1,\n      [Op.or]: [\n        {\n          nome: { [Op.like]: `%${search}%` },\n        },\n      ],\n    },\n  });\n\n  return resources;\n}\n\nexport async function getResource(id) {\n  const resource = await Resource.findByPk(id);\n\n  return resource;\n}\n\nexport function createResource(resource) {\n  return Resource.create(resource);\n}\n\nexport function updateResource(id, resource) {\n  return Resource.update(resource, { where: { id } });\n}\n\nexport function deleteResource(id) {\n  return Resource.findByPk(id).then(res => res.destroy());\n}\n"],"file":"service.js"}